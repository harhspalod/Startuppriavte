import{aB as g,z as N,a9 as S,w as V,H as y,I as _,y as T,v as D,o as l,al as L,x as O,aC as C,au as P,an as H,aD as M,a7 as j,k as B,p as Y,B as z,m as E,Q as W,a as $}from"./AQxm7BEp.js";import{e as F,r as k,h as p}from"./B5Im49L4.js";import{r as G}from"./BBvt7ttV.js";import{d as Q}from"./DKJ7Mg52.js";function re(e){return e.endsWith("capture")&&e!=="gotpointercapture"&&e!=="lostpointercapture"}const U=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function ae(e){return U.includes(e)}const q={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function oe(e){return e=e.toLowerCase(),q[e]??e}const x=["touchstart","touchmove"];function J(e){return x.includes(e)}let A=!0;function ne(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function K(e,t){return I(e,t)}function se(e,t){g(),t.intro=t.intro??!1;const r=t.target,c=E,f=l;try{for(var a=N(r);a&&(a.nodeType!==8||a.data!==S);)a=V(a);if(!a)throw y;_(!0),T(a),D();const i=I(e,{...t,anchor:a});if(l===null||l.nodeType!==8||l.data!==L)throw O(),y;return _(!1),i}catch(i){if(i===y)return t.recover===!1&&C(),g(),P(r),_(!1),K(e,t);throw i}finally{_(c),T(f),G()}}const u=new Map;function I(e,{target:t,anchor:r,props:c={},events:f,context:a,intro:i=!0}){g();var h=new Set,m=s=>{for(var o=0;o<s.length;o++){var n=s[o];if(!h.has(n)){h.add(n);var d=J(n);t.addEventListener(n,p,{passive:d});var w=u.get(n);w===void 0?(document.addEventListener(n,p,{passive:d}),u.set(n,1)):u.set(n,w+1)}}};m(H(F)),k.add(m);var v=void 0,R=M(()=>{var s=r??t.appendChild(j());return B(()=>{if(a){Y({});var o=z;o.c=a}f&&(c.$$events=f),E&&Q(s,null),A=i,v=e(s,c)||{},A=!0,E&&(W.nodes_end=l),a&&$()}),()=>{var d;for(var o of h){t.removeEventListener(o,p);var n=u.get(o);--n===0?(document.removeEventListener(o,p),u.delete(o)):u.set(o,n)}k.delete(m),s!==r&&((d=s.parentNode)==null||d.removeChild(s))}});return b.set(v,R),v}let b=new WeakMap;function ie(e,t){const r=b.get(e);return r?(b.delete(e),r(t)):Promise.resolve()}export{ae as a,A as b,se as h,re as i,K as m,oe as n,ne as s,ie as u};
