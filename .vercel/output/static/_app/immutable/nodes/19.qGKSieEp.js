import{a as K}from"../chunks/CelxBF2e.js";import{r as L}from"../chunks/KjYeVjkE.js";import{t as q,a as k}from"../chunks/DKJ7Mg52.js";import{p as Q,t as z,a as R,$ as U,s as n,c as r,g as A,r as l,n as V,b as X,d as E}from"../chunks/AQxm7BEp.js";import{s as W}from"../chunks/C_FN1Gfx.js";import{i as Z}from"../chunks/CcEstl9Z.js";import{h as F}from"../chunks/BBvt7ttV.js";import{a as $,e as ee}from"../chunks/BT3Z9tAO.js";import{a as d,r as u}from"../chunks/D2ckRwl_.js";import{s as C}from"../chunks/CSYD9VDW.js";/* empty css                */import{a as te}from"../chunks/DEvjWbWR.js";async function ae({parent:f}){const e=await f();return K(e==null?void 0:e.profile)&&L(303,"/account/select_plan"),e}const be=Object.freeze(Object.defineProperty({__proto__:null,load:ae},Symbol.toStringTag,{value:"Module"}));var re=q('<p class="text-red-700 text-sm font-bold text-center mt-3"> </p>'),le=q('<div class="text-center content-center max-w-lg mx-auto min-h-[100vh] pb-12 flex items-center place-content-center"><div class="flex flex-col w-64 lg:w-80"><div><h1 class="text-2xl font-bold mb-6">Create Profile</h1> <form class="form-widget" method="POST" action="/account/api?/updateProfile"><div class="mt-4"><label for="fullName"><span class="text-l text-center">Your Name</span></label> <input id="fullName" name="fullName" type="text" placeholder="Your full name" maxlength="50"></div> <div class="mt-4"><label for="companyName"><span class="text-l text-center">Company Name</span></label> <input id="companyName" name="companyName" type="text" placeholder="Company name" maxlength="50"></div> <div class="mt-4"><label for="website"><span class="text-l text-center">Company Website</span></label> <input id="website" name="website" type="text" placeholder="Company website" maxlength="50"></div> <!> <div class="mt-4"><input type="submit" class="btn btn-primary mt-3 btn-wide"></div></form> <div class="text-sm text-slate-800 mt-14"> <br> <a class="underline" href="/account/sign_out">Sign out</a></div></div></div></div>');function _e(f,e){Q(e,!0);let{user:p,profile:s}=e.data,m=X(!1),B=(s==null?void 0:s.full_name)??"",D=(s==null?void 0:s.company_name)??"",G=(s==null?void 0:s.website)??"";const v=(t,a)=>((t==null?void 0:t.errorFields)??[]).includes(a),H=()=>(E(m,!0),async({update:t,result:a})=>{await t({reset:!1}),await te(a),E(m,!1)});var x=le();F(t=>{U.title="Create Profile"});var P=r(x),S=r(P),c=n(r(S),2),b=r(c),_=n(r(b),2);u(_),l(b);var w=n(b,2),y=n(r(w),2);u(y),l(w);var g=n(w,2),h=n(r(g),2);u(h),l(g);var M=n(g,2);{var I=t=>{var a=re(),i=r(a,!0);l(a),z(()=>{var o;return W(i,(o=e.form)==null?void 0:o.errorMessage)}),k(t,a)};Z(M,t=>{var a;(a=e.form)!=null&&a.errorMessage&&t(I)})}var O=n(M,2),N=r(O);u(N),l(O),l(c),$(c,(t,a)=>{var i;return(i=ee)==null?void 0:i(t,a)},()=>H);var Y=n(c,2),J=r(Y);V(3),l(Y),l(S),l(P),l(x),z((t,a,i)=>{var o,j,T;C(_,`${t??""} mt-1 input input-bordered w-full max-w-xs`),d(_,((o=e.form)==null?void 0:o.fullName)??B),C(y,`${a??""} mt-1 input input-bordered w-full max-w-xs`),d(y,((j=e.form)==null?void 0:j.companyName)??D),C(h,`${i??""} mt-1 input input-bordered w-full max-w-xs`),d(h,((T=e.form)==null?void 0:T.website)??G),d(N,A(m)?"...":"Create Profile"),N.disabled=A(m),W(J,`You are logged in as ${(p==null?void 0:p.email)??""}. `)},[()=>v(e.form,"fullName")?"input-error":"",()=>v(e.form,"companyName")?"input-error":"",()=>v(e.form,"website")?"input-error":""]),k(f,x),R()}export{_e as component,be as universal};
